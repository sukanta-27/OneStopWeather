{% extends 'base.html' %}

{% block content %} 
    <div class="container m-auto">
        <div class="form_container card">
            <form method="POST" class="form">
                <div class="form-group">
                    <div class="row">
                        <div class="col col-4 col-sm-6 col-md-5 col-xs-6 col-lg-4">
                            <span id="SearchByText">
                                <i class="fa fa-search"></i>&nbsp; Search By:
                            </span>
                        </div>
                        <div class="col col-8 col-sm-6 col-md-7 col-xs-6 col-lg-8">
                            <select name='modeOfSearch' class="form-control" id="modeOfSearch">
                                <option value="IP">IP address</option>
                                <option value="City" selected>City</option> 
                                <option value="Zip">Zip Code</option>                       
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <input type="text" placeholder="Enter IP/City" class="textField form-control" name='searchItem', required='true'>
                </div>
                <div class="form-group">
                    <input type="text" placeholder="Country/Country Code" 
                        class="textField form-control" name='country' id="country">
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-6 d-flex justify-content-end">
                            <input type="submit" value="Search" class="btn btn-success searchButton">
                        </div>
                        <div class="col-6 d-flex justify-content-start">
                            <input type="reset" name="Reset" class="btn btn-danger">
                        </div>
                    </div>
                </div>    
            </form> 
        </div> 
    </div>

    <script>
        function showCountryForZip() {
            var mode = $("#modeOfSearch").find(":selected").val();
            if(mode === 'Zip') {
                $("#country").show(1000);
                $("#country").prop("required", true);
            } else {
                $("#country").hide(1000);
                $("#country").removeAttr('required');
            }
        }

        $(document).ready(function(){

            showCountryForZip();

            // If mode of Search is changed from anything to Zip
            // For that add an click eventListner to select
            $("#modeOfSearch").click(function(){
                showCountryForZip();
            });
        });
    </script>
{% endblock content %}